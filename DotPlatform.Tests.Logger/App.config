<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net" />
    <section name="nlog" type="NLog.Config.ConfigSectionHandler, NLog"/>
  </configSections>
  <log4net>
    <!--定义输出到文件中-->
    <appender name="RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
      <!--file可以指定具体的路径 eg : D:\Log\Log.txt。不指定的话log被生成在项目的bin/Debug 或者 bin/Release目录下 （web的项目 默认生成在根目录下）-->
      <file value="D:\Log" />
      <appendToFile value="true" />
      <rollingStyle value="Date" />
      <maxSizeRollBackups value="30" />
      <datePattern value="yyyyMMdd-HHmm" />
      <staticLogFileName value="false" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="{%level}%date{MM/dd HH:mm:ss} - %message%newline" />
      </layout>
    </appender>
    <!--<root>
      --><!--文件形式记录日志--><!--
      <appender-ref ref="RollingLogFileAppender" />
    </root>-->
    <!--日志记录器logger，可以有多个-->
    <!--<logger name="fileLog">
      <level value="ALL" />
      <appender-ref ref="RollingLogFileAppender" />
    </logger>-->
    <logger name="fileLog">
      <level value="INFO" />
      <appender-ref ref="RollingLogFileAppender" />
    </logger>
  </log4net>

  <nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <!--  See http://nlog-project.org/wiki/Configuration_file  for information on customizing logging rules and outputs.   -->
    <!--<variable name="logDirectory" value="${basedir}/logs/${shortdate}"/>-->
    <variable name="logDirectory" value="D:/Logs"/>
    <variable name="logLayout" value="${longdate} | ${machinename} | ${level:uppercase=false:padding=-5} | ${message} ${onexception:${exception:format=tostring} ${newline} ${stacktrace} ${newline}}"/>
    <targets>
      <target name="file_debug" xsi:type="File" maxArchiveFiles="30" fileName="${logDirectory}/Debug.txt" layout="${logLayout}" />
      <target name="file_trace" xsi:type="File" maxArchiveFiles="30" fileName="${logDirectory}/Trace.txt" layout="${logLayout}" />
      <target name="file_info" xsi:type="File" maxArchiveFiles="30" fileName="${logDirectory}/Info.txt" layout="${logLayout}" />
      <target name="file_warn" xsi:type="File" maxArchiveFiles="30" fileName="${logDirectory}/Warn.txt" layout="${logLayout}" />
      <target name="file_error" xsi:type="File" maxArchiveFiles="30" fileName="${logDirectory}/Error.txt" layout="${logLayout}" />
      <target name="file_fatal" xsi:type="File" maxArchiveFiles="30" fileName="${logDirectory}/Fatal.txt" layout="${logLayout}" />
    </targets>
    <rules>
      <logger name="*" level="Trace" writeTo="file_trace" />
      <logger name="*" level="Debug" writeTo="file_debug" />
      <logger name="*" level="Info" writeTo="file_info" />
      <logger name="*" level="Warn" writeTo="file_warn" />
      <logger name="*" level="Error" writeTo="file_error" />
      <logger name="*" level="Fatal" writeTo="file_fatal" />
    </rules>
  </nlog>
</configuration>